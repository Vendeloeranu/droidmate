task assemble(dependsOn: "assemble_droidmate")

task assemble_droidmate(type: GradleBuild, dependsOn: "assemble_init") {
  buildFile = "dev/droidmate/build.gradle"
  tasks = ["assemble"]
}

task assemble_init(type: GradleBuild) {
  buildFile = "dev/init/build.gradle"
  tasks = ["assemble"]
}

/*
"clean" doesn't work because clean_init doesn't work:

  FAILURE: Build failed with an exception.
  
  * What went wrong:
  Execution failed for task ':clean'.
  > Unable to delete file: repo\droidmate\dev\init\build\libs\init.jar

It has to be executed independently.

 */
//task clean(dependsOn: "clean_init")
//
//task clean_init(type: GradleBuild, dependsOn: "clean_droidmate") {
//  buildFile = "dev/init/build.gradle"
//  tasks = ["clean"]
//}
//
//task clean_droidmate(type: GradleBuild) {
//  buildFile = "dev/droidmate/build.gradle"
//  tasks = ["clean"]
//}

